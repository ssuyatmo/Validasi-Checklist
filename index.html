<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Form QA-1 & QA-7 Inspection</title>
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    margin: 0;
    background: linear-gradient(180deg,#f8f9fa,#d4f1d0);
    color: #222;
  }
  header {
    background: linear-gradient(90deg,#d4af37,#1e8449);
    color: #fff;
    text-align: center;
    padding: 15px;
    font-size: 20px;
    border-radius: 0 0 15px 15px;
    box-shadow: 0 4px 6px rgba(0,0,0,.3);
  }
  .mode-select {
    display: flex;
    justify-content: center;
    margin-top: 10px;
    gap: 10px;
  }
  .mode-btn {
    padding: 8px 14px;
    border-radius: 10px;
    border: none;
    background: #ccc;
    color: #000;
    cursor: pointer;
    transition: .2s;
    font-weight: bold;
  }
  .mode-btn.active { background:#1e8449; color:#fff; }

  .card {
    background:#fff;
    margin:15px;
    padding:15px;
    border-radius:15px;
    box-shadow:0 4px 6px rgba(0,0,0,.1);
  }
  .section-title {
    font-weight:bold;
    margin-bottom:8px;
    border-bottom:2px solid #1e8449;
    color:#1e8449;
  }
  .item {
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin:8px 0;
    flex-wrap:wrap;
  }
  .item label {flex:1;min-width:150px;}
  .btn {
    border:1px solid #ccc;
    border-radius:8px;
    padding:4px 10px;
    margin:0 2px;
    cursor:pointer;
    transition:.2s;
  }
  .good.active {background:#2ecc71;color:#fff;}
  .bad.active {background:#e74c3c;color:#fff;}
  .check.active {background:#2ecc71;color:#fff;}
  .cross.active {background:#e74c3c;color:#fff;}
  .temuan {
    width:100%;
    margin-top:5px;
    border-radius:8px;
    padding:6px;
    border:1px solid #ccc;
  }
  .pressure {
    display:flex;
    justify-content:space-between;
    gap:5px;
  }
  .pressure input {
    width:23%;
    border:1px solid #ccc;
    border-radius:8px;
    padding:5px;
  }
  .buttons {
    display:flex;
    justify-content:space-around;
    margin:15px;
  }
  button {
    padding:10px 15px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    font-weight:bold;
    color:#fff;
  }
  #preview {background:#3498db;}
  #copy {background:#2ecc71;}
  #send {background:#27ae60;}
  #result {
    white-space:pre-wrap;
    background:#fff;
    margin:15px;
    padding:15px;
    border-radius:12px;
    box-shadow:0 2px 5px rgba(0,0,0,.1);
  }
  textarea#manualDeviation {
    width:100%;
    border-radius:10px;
    padding:10px;
    border:1px solid #ccc;
    margin-top:8px;
  }
  .input-top {
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    margin:10px 15px 0 15px;
  }
  .input-top input {
    flex:1 1 45%;
    border-radius:8px;
    padding:8px;
    border:1px solid #ccc;
  }
</style>
</head>
<body>
<header>📋 QA Inspection Form</header>

<div class="mode-select">
  <button class="mode-btn active" id="qa1">QA-1 Pre Inspection</button>
  <button class="mode-btn" id="qa7">QA-7 Final Inspection</button>
</div>

<div class="input-top">
  <input type="date" id="tanggal">
  <input type="text" id="mekanik" placeholder="Nama Mekanik">
  <input type="text" id="cnunit" placeholder="CN Unit">
  <input type="text" id="hm" placeholder="Hour Meter">
</div>

<div class="card">
  <div class="section-title">🩸 Oil Level</div>
  <div class="item"><label>Engine oil level</label><div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div><input type="text" class="temuan" placeholder="Tulis temuan jika BAD"></div>
  <div class="item"><label>Transmission oil level</label><div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div><input type="text" class="temuan" placeholder="Tulis temuan jika BAD"></div>
  <div class="item"><label>Hydraulic oil level</label><div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div><input type="text" class="temuan" placeholder="Tulis temuan jika BAD"></div>
</div>

<div class="card">
  <div class="section-title">⚙️ Engine Area</div>
  <div class="item"><label>Belt tension</label><div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div><input type="text" class="temuan" placeholder="Tulis temuan jika BAD"></div>
  <div class="item"><label>Engine oil leakage</label><div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div><input type="text" class="temuan" placeholder="Tulis temuan jika BAD"></div>
  <div class="item"><label>Common Rail Connector</label><div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div><input type="text" class="temuan" placeholder="Tulis temuan jika BAD"></div>
  <div class="item"><label>Injector Tube</label><div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div><input type="text" class="temuan" placeholder="Tulis temuan jika BAD"></div>
</div>

<div class="card">
  <div class="section-title">🚗 Cabin Area</div>
  <div class="item"><label>FM Radio</label><div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div><input type="text" class="temuan" placeholder="Tulis temuan jika BAD"></div>
  <div class="item"><label>Fatigue Warning</label><div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div><input type="text" class="temuan" placeholder="Tulis temuan jika BAD"></div>
  <div class="item"><label>Power Window</label><div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div><input type="text" class="temuan" placeholder="Tulis temuan jika BAD"></div>
</div>

<div class="card">
  <div class="section-title">🛞 Frame Area</div>
  <div class="item"><label>Operator seat</label><div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div><input type="text" class="temuan" placeholder="Tulis temuan jika BAD"></div>
  <div class="item"><label>Hand Rail</label><div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div><input type="text" class="temuan" placeholder="Tulis temuan jika BAD"></div>
</div>

<div class="card">
  <div class="section-title">💧 Pressure Suspension (Panel)</div>
  <div class="pressure">
    <input type="text" id="fl" placeholder="FL">
    <input type="text" id="fr" placeholder="FR">
    <input type="text" id="rl" placeholder="RL">
    <input type="text" id="rr" placeholder="RR">
  </div>
</div>

<div class="card">
  <div class="section-title">🛠️ Tyre Condition</div>
  <div class="item"><label>Tyre</label><div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div><input type="text" class="temuan" placeholder="Tulis temuan jika BAD"></div>
</div>

<div class="card">
  <div class="section-title">📝 Validasi & Kelengkapan Checklist Service</div>
  <div class="item"><label>Job Card & Cover Checklist</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
  <div class="item"><label>Form Observasi Redo PS</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
  <div class="item"><label>Form QA 1 & QA 7</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
  <div class="item"><label>Form PPM</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
  <div class="item"><label>Form Check List A</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
  <div class="item"><label>Form Check List B</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
  <div class="item"><label>Form Check List C</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
  <div class="item"><label>Form Backlog</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
  <div class="item"><label>Form FUI</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
  <div class="item"><label>Form Repair Order</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
  <div class="item"><label>Form Combine Maintenance</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
  <div class="item"><label>Form Service Activity Report</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
</div>

<div class="card">
  <div class="section-title">⚠️ Deviation (Manual Input)</div>
  <textarea id="manualDeviation" rows="4" placeholder="Tambahkan deviation tambahan di sini..."></textarea>
</div>

<div class="buttons">
  <button id="preview">🧾 Preview</button>
  <button id="copy">📋 Copy</button>
  <button id="send">📤 Send WA</button>
</div>

<div id="result"></div>

<script>
document.getElementById("tanggal").valueAsDate = new Date();
let mode="QA-1 Pre Inspection";
document.getElementById("qa1").onclick=()=>{mode="QA-1 Pre Inspection";toggleMode("qa1");};
document.getElementById("qa7").onclick=()=>{mode="QA-7 Final Inspection";toggleMode("qa7");};
function toggleMode(id){
  document.querySelectorAll(".mode-btn").forEach(b=>b.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}
document.querySelectorAll('.btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const group=btn.parentElement.querySelectorAll('.btn');
    group.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
  });
});

document.getElementById('preview').onclick=()=>{
  let t="*"+mode+"*\n\n"+
  "📅 Tgl : "+document.getElementById('tanggal').value+
  "\n👷 Mekanik : "+document.getElementById('mekanik').value+
  "\n🚗 CN : "+document.getElementById('cnunit').value+
  "\n⌛ HM : "+document.getElementById('hm').value+"\n\n---\n";
  const cards=document.querySelectorAll('.card');
  let dev=[];
  cards.forEach(c=>{
    const title=c.querySelector('.section-title')?.textContent;
    if(!title)return;
    if(title.includes('Deviation'))return;
    t+=title+"\n";
    c.querySelectorAll('.item').forEach(it=>{
      const label=it.querySelector('label')?.textContent||"";
      const good=it.querySelector('.good');
      const bad=it.querySelector('.bad');
      const check=it.querySelector('.check');
      const cross=it.querySelector('.cross');
      const temuan=it.querySelector('.temuan');
      if(good||bad){
        if(good?.classList.contains('active'))t+=label+" : ✅ GOOD\n";
        else if(bad?.classList.contains('active')){
          t+=label+" : ❌ BAD\n";
          if(temuan.value.trim()!=="")dev.push("⚠️ "+temuan.value.trim());
        }else t+=label+" : ⬜\n";
      } else if(check||cross){
        if(check?.classList.contains('active'))t+=label+" ✅\n";
        else if(cross?.classList.contains('active'))t+=label+" ❌\n";
        else t+=label+" ⬜\n";
      }
    });
    if(c.querySelector('.pressure')){
      const fl=document.getElementById('fl').value;
      const fr=document.getElementById('fr').value;
      const rl=document.getElementById('rl').value;
      const rr=document.getElementById('rr').value;
      t+="FL: "+fl+" | FR: "+fr+" | RL: "+rl+" | RR: "+rr+"\n";
    }
    t+="\n---\n";
  });
  let manual=document.getElementById('manualDeviation').value.trim();
  if(dev.length>0 || manual!==""){
    t+="⚠️ *Deviation :*\n";
    if(dev.length>0)t+=dev.join("\n")+"\n";
    if(manual!=="")manual.split("\n").forEach(line=>{if(line.trim()!=="")t+="⚠️ "+line.trim()+"\n";});
  }
  document.getElementById('result').textContent=t;
};
document.getElementById('copy').onclick=()=>{
  navigator.clipboard.writeText(document.getElementById('result').textContent);
  alert("✅ Teks disalin!");
};
document.getElementById('send').onclick=()=>{
  let msg=encodeURIComponent(document.getElementById('result').textContent);
  window.open("https://wa.me/?text="+msg,"_blank");
};
</script>
</body>
</html>
