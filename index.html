<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Form QA1 & QA7 - Pre & Final Inspection</title>
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    margin: 0;
    background: linear-gradient(180deg, #f8f9fa, #d4f1d0);
    color: #222;
  }
  header {
    background: linear-gradient(90deg, #d4af37, #1e8449);
    color: white;
    text-align: center;
    padding: 15px;
    font-weight: bold;
    font-size: 20px;
    border-radius: 0 0 15px 15px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.2);
  }
  .card {
    background: #fff;
    margin: 15px;
    padding: 15px;
    border-radius: 15px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  }
  .section-title {
    font-weight: bold;
    margin-bottom: 8px;
    border-bottom: 2px solid #1e8449;
    color: #1e8449;
  }
  .item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin: 8px 0;
    flex-wrap: wrap;
  }
  .item label {
    flex: 1;
    min-width: 150px;
  }
  .btn {
    border: 1px solid #ccc;
    border-radius: 8px;
    padding: 4px 10px;
    margin: 0 2px;
    cursor: pointer;
    transition: 0.2s;
  }
  .good.active {
    background: #2ecc71;
    color: white;
  }
  .bad.active {
    background: #e74c3c;
    color: white;
  }
  .check.active {
    background: #2ecc71;
    color: white;
  }
  .cross.active {
    background: #e74c3c;
    color: white;
  }
  .temuan {
    width: 100%;
    margin-top: 5px;
    border-radius: 8px;
    padding: 6px;
    border: 1px solid #ccc;
  }
  .buttons {
    display: flex;
    justify-content: space-around;
    margin: 15px;
  }
  button {
    padding: 10px 15px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-weight: bold;
    color: white;
  }
  #preview { background: #3498db; }
  #copy { background: #2ecc71; }
  #send { background: #27ae60; }
  #result {
    white-space: pre-wrap;
    background: #fff;
    margin: 15px;
    padding: 15px;
    border-radius: 12px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }
</style>
</head>
<body>
<header>📋 Form QA1 & QA7 - Pre & Final Inspection</header>

<div class="card">
  <div class="section-title">🩸 Oil Level</div>
  <div class="item">
    <label>Engine oil level</label>
    <div>
      <span class="btn good">GOOD</span>
      <span class="btn bad">BAD</span>
    </div>
    <input type="text" class="temuan" placeholder="Tulis temuan jika BAD">
  </div>
  <div class="item">
    <label>Transmission oil level</label>
    <div>
      <span class="btn good">GOOD</span>
      <span class="btn bad">BAD</span>
    </div>
    <input type="text" class="temuan" placeholder="Tulis temuan jika BAD">
  </div>
</div>

<div class="card">
  <div class="section-title">⚙️ Engine Area</div>
  <div class="item">
    <label>Belt tension</label>
    <div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div>
    <input type="text" class="temuan" placeholder="Tulis temuan jika BAD">
  </div>
  <div class="item">
    <label>Engine oil leakage</label>
    <div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div>
    <input type="text" class="temuan" placeholder="Tulis temuan jika BAD">
  </div>
</div>

<div class="card">
  <div class="section-title">🚗 Cabin Area</div>
  <div class="item">
    <label>FM Radio</label>
    <div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div>
    <input type="text" class="temuan" placeholder="Tulis temuan jika BAD">
  </div>
</div>

<div class="card">
  <div class="section-title">🛞 Tyre Condition</div>
  <div class="item">
    <label>Tyre</label>
    <div><span class="btn good">GOOD</span><span class="btn bad">BAD</span></div>
    <input type="text" class="temuan" placeholder="Tulis temuan jika BAD">
  </div>
</div>

<div class="card">
  <div class="section-title">📝 Validasi & Kelengkapan Checklist Service</div>
  <div class="item"><label>Job Card & Cover Checklist</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
  <div class="item"><label>Form QA 1 & QA 7</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
  <div class="item"><label>Form Service Activity Report</label><div><span class="btn check">✅</span><span class="btn cross">❌</span></div></div>
</div>

<div class="buttons">
  <button id="preview">🧾 Preview</button>
  <button id="copy">📋 Copy</button>
  <button id="send">📤 Send WA</button>
</div>

<div id="result"></div>

<script>
const btns = document.querySelectorAll('.btn');
btns.forEach(b=>{
  b.addEventListener('click',()=>{
    const group = b.parentElement.querySelectorAll('.btn');
    group.forEach(g=>g.classList.remove('active'));
    b.classList.add('active');
  });
});

document.getElementById('preview').onclick = function(){
  let text = "📅 Tgl : "+new Date().toLocaleDateString('en-GB')+
  "\n👷 Mekanik :\n🚗 CN :\n⌛ HM :\n\n---\n";
  const sections = document.querySelectorAll('.card');
  let deviations = [];
  sections.forEach(sec=>{
    let title = sec.querySelector('.section-title').textContent;
    text += title+"\n";
    const items = sec.querySelectorAll('.item');
    items.forEach(it=>{
      const label = it.querySelector('label').textContent;
      const good = it.querySelector('.good');
      const bad = it.querySelector('.bad');
      const check = it.querySelector('.check');
      const cross = it.querySelector('.cross');
      const temuan = it.querySelector('.temuan');
      if(good || bad){
        if(good?.classList.contains('active')) text += label+" : ✅ GOOD\n";
        else if(bad?.classList.contains('active')){
          text += label+" : ❌ BAD\n";
          if(temuan.value.trim()!=="") deviations.push("⚠️ "+temuan.value.trim());
        }
        else text += label+" : ⬜\n";
      } else if(check || cross){
        if(check?.classList.contains('active')) text += label+" ✅\n";
        else if(cross?.classList.contains('active')) text += label+" ❌\n";
        else text += label+" ⬜\n";
      }
    });
    text += "\n---\n";
  });
  if(deviations.length>0){
    text += "⚠️ Deviation :\n"+deviations.join("\n");
  }
  document.getElementById('result').textContent = text;
};

document.getElementById('copy').onclick = ()=>{
  navigator.clipboard.writeText(document.getElementById('result').textContent);
  alert("✅ Teks disalin!");
};

document.getElementById('send').onclick = ()=>{
  let msg = encodeURIComponent(document.getElementById('result').textContent);
  window.open("https://wa.me/?text="+msg, "_blank");
};
</script>
</body>
</html>
