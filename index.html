<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QA-1 & QA-7 Inspection Form</title>
<style>
body {
  font-family: "Segoe UI", sans-serif;
  background: linear-gradient(180deg, #e8f5e9, #d0f0c0);
  margin: 0;
  padding: 12px;
}
header {
  background: linear-gradient(to right, #f7e597, #f5d76e);
  text-align: center;
  color: #333;
  font-weight: bold;
  padding: 12px;
  border-radius: 14px;
  font-size: 18px;
  box-shadow: 0 3px 8px rgba(0,0,0,0.25);
  letter-spacing: 0.5px;
}
select, input, textarea {
  width: 100%;
  border-radius: 8px;
  border: 1px solid #ccc;
  padding: 6px;
  box-sizing: border-box;
  font-size: 15px;
}
.container {
  margin-top: 12px;
}
.card {
  background: #fff;
  border-radius: 14px;
  padding: 12px;
  margin-bottom: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
.section-title {
  font-weight: bold;
  color: #2c662d;
  margin-bottom: 8px;
  font-size: 16px;
}
.input-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 5px 0;
}
.status {
  width: 85px;
  height: 38px;
  text-align: center;
  border-radius: 10px;
  font-weight: bold;
  cursor: pointer;
  border: 1px solid #ccc;
  box-shadow: inset 0 2px 3px rgba(0,0,0,0.2);
}
.good {
  background-color: #d9ffd9;
  color: #097f09;
}
.bad {
  background-color: #ffd6d6;
  color: #a00;
}
button {
  border: none;
  border-radius: 10px;
  padding: 10px;
  font-size: 16px;
  margin: 5px;
  cursor: pointer;
  box-shadow: 0 3px 8px rgba(0,0,0,0.2);
  color: white;
}
.btn-preview { background: #4CAF50; }
.btn-copy { background: #2196F3; }
.btn-wa { background: #25D366; }
#preview {
  white-space: pre-wrap;
  background: #f8fff8;
  border-radius: 12px;
  padding: 12px;
  margin-top: 10px;
  box-shadow: inset 0 0 8px rgba(0,0,0,0.1);
}
</style>
</head>
<body>

<header>🧾 QA-1 & QA-7 INSPECTION REPORT 🧾</header>

<div class="container">

  <div class="card">
    <label>📋 Jenis Inspection</label>
    <select id="inspectionType">
      <option value="QA-1">QA-1 (Pre-Inspection)</option>
      <option value="QA-7">QA-7 (Final Inspection)</option>
    </select><br>
    <label>📅 Date:</label>
    <input type="date" id="date"><br>
    <label>👷 Mechanic:</label>
    <input type="text" id="mechanic"><br>
    <label>🚗 CN:</label>
    <input type="text" id="cn"><br>
    <label>⌛ HM:</label>
    <input type="text" id="hm">
  </div>

  <!-- OIL LEVEL -->
  <div class="card">
    <div class="section-title">🩸 Oil Level</div>
    <div class="input-row"><div class="status good" onclick="toggle(this,'engineOil')">GOOD</div><input id="engineOil" placeholder="Engine oil level :"></div>
    <div class="input-row"><div class="status good" onclick="toggle(this,'transOil')">GOOD</div><input id="transOil" placeholder="Transmission oil level :"></div>
    <div class="input-row"><div class="status good" onclick="toggle(this,'hydOil')">GOOD</div><input id="hydOil" placeholder="Hydraulic oil level :"></div>
  </div>

  <!-- ENGINE -->
  <div class="card">
    <div class="section-title">⚙️ Engine Area</div>
    <div class="input-row"><div class="status good" onclick="toggle(this,'belt')">GOOD</div><input id="belt" placeholder="Belt tension :"></div>
    <div class="input-row"><div class="status good" onclick="toggle(this,'oilLeak')">GOOD</div><input id="oilLeak" placeholder="Engine oil leakage :"></div>
    <div class="input-row"><div class="status good" onclick="toggle(this,'rail')">GOOD</div><input id="rail" placeholder="Common Rail Connector :"></div>
    <div class="input-row"><div class="status good" onclick="toggle(this,'injector')">GOOD</div><input id="injector" placeholder="Injector Tube :"></div>
  </div>

  <!-- CABIN -->
  <div class="card">
    <div class="section-title">🚗 Cabin Area</div>
    <div class="input-row"><div class="status good" onclick="toggle(this,'fm')">GOOD</div><input id="fm" placeholder="FM Radio :"></div>
    <div class="input-row"><div class="status good" onclick="toggle(this,'fatigue')">GOOD</div><input id="fatigue" placeholder="Fatigue Warning :"></div>
    <div class="input-row"><div class="status good" onclick="toggle(this,'window')">GOOD</div><input id="window" placeholder="Power Window :"></div>
  </div>

  <!-- FRAME -->
  <div class="card">
    <div class="section-title">🛞 Frame Area</div>
    <div class="input-row"><div class="status good" onclick="toggle(this,'seat')">GOOD</div><input id="seat" placeholder="Operator seat :"></div>
    <div class="input-row"><div class="status good" onclick="toggle(this,'handrail')">GOOD</div><input id="handrail" placeholder="Hand Rail :"></div>
  </div>

  <!-- PRESSURE -->
  <div class="card">
    <div class="section-title">💧 Pressure Suspension (Panel)</div>
    <div class="input-row">
      <input id="fl" placeholder="FL :">
      <input id="fr" placeholder="FR :">
      <input id="rl" placeholder="RL :">
      <input id="rr" placeholder="RR :">
    </div>
  </div>

  <!-- TYRE -->
  <div class="card">
    <div class="section-title">🛠️ Tyre Condition</div>
    <select id="tyre">
      <option value="✅ GOOD">✅ GOOD</option>
      <option value="❌ BAD">❌ BAD</option>
    </select>
    <textarea id="tyreNote" placeholder="Jika BAD → tulis temuan di bawah ini:"></textarea>
  </div>

  <!-- VALIDATION -->
  <div class="card">
    <div class="section-title">📝 Validasi & Kelengkapan Checklist Service</div>
<textarea id="validation" rows="10" placeholder="Job Card & Cover Checklist ✅
Form Observasi Redo PS ✅
Form QA 1 & QA 7 ✅
Form PPM ✅
Form Check List A ✅
Form Check List B ✅
Form Check List C ✅
Form Backlog ✅
Form FUI ✅
Form Repair Order ✅
Form Combine Maintenance ✅
Form Service Activity Report ✅"></textarea>
  </div>

  <!-- DEVIATION -->
  <div class="card">
    <div class="section-title">⚠️ Deviation</div>
    <textarea id="deviation" rows="4" placeholder="Tulis deviation satu per baris..."></textarea>
  </div>

  <div style="text-align:center;">
    <button class="btn-preview" onclick="preview()">🧾 Preview</button>
    <button class="btn-copy" onclick="copyText()">📋 Copy</button>
    <button class="btn-wa" onclick="sendWA()">📤 WhatsApp</button>
  </div>

  <div id="preview"></div>
</div>

<script>
function toggle(btn, id){
  const field=document.getElementById(id);
  if(btn.classList.contains('good')){
    btn.classList.remove('good');
    btn.classList.add('bad');
    btn.textContent="BAD";
    field.value=field.placeholder+" ❌ BAD";
  }else{
    btn.classList.remove('bad');
    btn.classList.add('good');
    btn.textContent="GOOD";
    field.value=field.placeholder+" ✅ GOOD";
  }
}

function formatDate(d){
  if(!d)return"";
  const date=new Date(d);
  const options={day:"2-digit",month:"short",year:"numeric"};
  return date.toLocaleDateString("en-GB",options).replace(",","");
}

function preview(){
  const date=formatDate(dateInput.value);
  const deviationLines=deviation.value.split("\n").filter(l=>l.trim()!=="").map(l=>"⚠️ "+l.trim()).join("\n");
  const result=
`📋 Inspection Type : ${inspectionType.value}

📅 Tgl : ${date}
👷 Mekanik : ${mechanic.value}
🚗 CN : ${cn.value}
⌛ HM : ${hm.value}

---

🩸 Oil Level 🩸
${engineOil.value}
${transOil.value}
${hydOil.value}

---

⚙️ Engine Area ⚙️
${belt.value}
${oilLeak.value}
${rail.value}
${injector.value}

---

🚗 Cabin Area 🚗
${fm.value}
${fatigue.value}
${window.value}

---

🛞 Frame Area 🛞
${seat.value}
${handrail.value}

---

💧 Pressure Suspension (Panel) 💧
FL : ${fl.value} | FR : ${fr.value} | RL : ${rl.value} | RR : ${rr.value}

---

🛠️ Tyre Condition 🛠️
Tyre : ${tyre.value}
${tyreNote.value?tyreNote.value:"Jika BAD → tulis temuan di bawah ini:"}

---

📝 Validasi & Kelengkapan Checklist Service
${validation.value}

---

⚠️ Deviation :
${deviationLines}`;
  document.getElementById("preview").textContent=result;
}

function copyText(){
  navigator.clipboard.writeText(document.getElementById("preview").textContent);
  alert("✅ Format WA telah disalin!");
}

function sendWA(){
  const msg=encodeURIComponent(document.getElementById("preview").textContent);
  window.open(`https://wa.me/?text=${msg}`);
}
</script>
</body>
</html>
