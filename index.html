<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QA1 & QA7 Inspection Form</title>
<style>
body {
  font-family: "Segoe UI", sans-serif;
  background: linear-gradient(180deg, #e9fbe9, #d0f0c0);
  margin: 0;
  padding: 12px;
}
header {
  background: linear-gradient(to right, #f7e597, #f5d76e);
  text-align: center;
  color: #333;
  font-weight: bold;
  padding: 12px;
  border-radius: 14px;
  font-size: 18px;
  box-shadow: 0 3px 8px rgba(0,0,0,0.25);
}
select, input, textarea {
  width: 100%;
  border-radius: 8px;
  border: 1px solid #ccc;
  padding: 6px;
  box-sizing: border-box;
  font-size: 15px;
}
.container { margin-top: 12px; }
.card {
  background: #fff;
  border-radius: 14px;
  padding: 12px;
  margin-bottom: 12px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
.section-title {
  font-weight: bold;
  color: #2c662d;
  margin-bottom: 8px;
  font-size: 16px;
  border-bottom: 2px solid #cde5cd;
  padding-bottom: 4px;
}
.item { margin: 8px 0; }
.item label { display: block; font-weight: 500; margin-bottom: 4px; }
.goodbad {
  width: 100%;
  border-radius: 8px;
  border: 1px solid #ccc;
  padding: 6px;
  background: #f9fff9;
}
.note-hint {
  font-size: 13px;
  color: #666;
  margin-top: 3px;
  font-style: italic;
}
textarea.note {
  display: none;
  margin-top: 5px;
}
button {
  border: none;
  border-radius: 10px;
  padding: 10px;
  font-size: 16px;
  margin: 5px;
  cursor: pointer;
  box-shadow: 0 3px 8px rgba(0,0,0,0.2);
  color: white;
}
.btn-preview { background: #4CAF50; }
.btn-copy { background: #2196F3; }
.btn-wa { background: #25D366; }
#preview {
  white-space: pre-wrap;
  background: #f8fff8;
  border-radius: 12px;
  padding: 12px;
  margin-top: 10px;
  box-shadow: inset 0 0 8px rgba(0,0,0,0.1);
}
.status {
  width: 48px;
  height: 36px;
  text-align: center;
  border-radius: 10px;
  font-weight: bold;
  cursor: pointer;
  border: 1px solid #ccc;
  box-shadow: inset 0 2px 3px rgba(0,0,0,0.2);
  display: flex;
  align-items: center;
  justify-content: center;
}
.checked {
  background-color: #d9ffd9;
  color: #097f09;
}
.unchecked {
  background-color: #ffd6d6;
  color: #a00;
}
.input-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: 6px 0;
}
.input-row span { flex: 1; }
</style>
</head>
<body>

<header>🧾 QA-1 & QA-7 INSPECTION REPORT 🧾</header>

<div class="container">

  <div class="card">
    <label>📋 Jenis Inspection</label>
    <select id="inspectionType">
      <option value="QA-1">QA-1 (Pre-Inspection)</option>
      <option value="QA-7">QA-7 (Final Inspection)</option>
    </select><br>
    <label>📅 Date:</label>
    <input type="date" id="date"><br>
    <label>👷 Mechanic:</label>
    <input type="text" id="mechanic"><br>
    <label>🚗 CN:</label>
    <input type="text" id="cn"><br>
    <label>⌛ HM:</label>
    <input type="text" id="hm">
  </div>

  <!-- Oil Level -->
  <div class="card">
    <div class="section-title">🩸 Oil Level</div>
    <div class="item"><label>Engine oil level</label>
      <select class="goodbad" onchange="toggleNote(this)">
        <option value="✅ GOOD">✅ GOOD</option><option value="❌ BAD">❌ BAD</option>
      </select>
      <div class="note-hint">Tambahkan temuan jika ada</div>
      <textarea class="note" placeholder="Tulis temuan di sini..."></textarea>
    </div>
    <div class="item"><label>Transmission oil level</label>
      <select class="goodbad" onchange="toggleNote(this)">
        <option value="✅ GOOD">✅ GOOD</option><option value="❌ BAD">❌ BAD</option>
      </select>
      <div class="note-hint">Tambahkan temuan jika ada</div>
      <textarea class="note"></textarea>
    </div>
    <div class="item"><label>Hydraulic oil level</label>
      <select class="goodbad" onchange="toggleNote(this)">
        <option value="✅ GOOD">✅ GOOD</option><option value="❌ BAD">❌ BAD</option>
      </select>
      <div class="note-hint">Tambahkan temuan jika ada</div>
      <textarea class="note"></textarea>
    </div>
  </div>

  <!-- Engine Area -->
  <div class="card">
    <div class="section-title">⚙️ Engine Area</div>
    <div class="item"><label>Belt tension</label>
      <select class="goodbad" onchange="toggleNote(this)">
        <option value="✅ GOOD">✅ GOOD</option><option value="❌ BAD">❌ BAD</option>
      </select>
      <div class="note-hint">Tambahkan temuan jika ada</div>
      <textarea class="note"></textarea>
    </div>
    <div class="item"><label>Engine oil leakage</label>
      <select class="goodbad" onchange="toggleNote(this)">
        <option value="✅ GOOD">✅ GOOD</option><option value="❌ BAD">❌ BAD</option>
      </select>
      <div class="note-hint">Tambahkan temuan jika ada</div>
      <textarea class="note"></textarea>
    </div>
    <div class="item"><label>Common Rail Connector</label>
      <select class="goodbad" onchange="toggleNote(this)">
        <option value="✅ GOOD">✅ GOOD</option><option value="❌ BAD">❌ BAD</option>
      </select>
      <div class="note-hint">Tambahkan temuan jika ada</div>
      <textarea class="note"></textarea>
    </div>
    <div class="item"><label>Injector Tube</label>
      <select class="goodbad" onchange="toggleNote(this)">
        <option value="✅ GOOD">✅ GOOD</option><option value="❌ BAD">❌ BAD</option>
      </select>
      <div class="note-hint">Tambahkan temuan jika ada</div>
      <textarea class="note"></textarea>
    </div>
  </div>

  <!-- Cabin Area -->
  <div class="card">
    <div class="section-title">🚗 Cabin Area</div>
    <div class="item"><label>FM Radio</label>
      <select class="goodbad" onchange="toggleNote(this)">
        <option value="✅ GOOD">✅ GOOD</option><option value="❌ BAD">❌ BAD</option>
      </select>
      <div class="note-hint">Tambahkan temuan jika ada</div>
      <textarea class="note"></textarea>
    </div>
    <div class="item"><label>Fatigue Warning</label>
      <select class="goodbad" onchange="toggleNote(this)">
        <option value="✅ GOOD">✅ GOOD</option><option value="❌ BAD">❌ BAD</option>
      </select>
      <div class="note-hint">Tambahkan temuan jika ada</div>
      <textarea class="note"></textarea>
    </div>
    <div class="item"><label>Power Window</label>
      <select class="goodbad" onchange="toggleNote(this)">
        <option value="✅ GOOD">✅ GOOD</option><option value="❌ BAD">❌ BAD</option>
      </select>
      <div class="note-hint">Tambahkan temuan jika ada</div>
      <textarea class="note"></textarea>
    </div>
  </div>

  <!-- Frame Area -->
  <div class="card">
    <div class="section-title">🛞 Frame Area</div>
    <div class="item"><label>Operator seat</label>
      <select class="goodbad" onchange="toggleNote(this)">
        <option value="✅ GOOD">✅ GOOD</option><option value="❌ BAD">❌ BAD</option>
      </select>
      <div class="note-hint">Tambahkan temuan jika ada</div>
      <textarea class="note"></textarea>
    </div>
    <div class="item"><label>Hand Rail</label>
      <select class="goodbad" onchange="toggleNote(this)">
        <option value="✅ GOOD">✅ GOOD</option><option value="❌ BAD">❌ BAD</option>
      </select>
      <div class="note-hint">Tambahkan temuan jika ada</div>
      <textarea class="note"></textarea>
    </div>
  </div>

  <!-- Tyre -->
  <div class="card">
    <div class="section-title">🛠️ Tyre Condition</div>
    <select id="tyre" onchange="toggleTyre()">
      <option value="✅ GOOD">✅ GOOD</option>
      <option value="❌ BAD">❌ BAD</option>
    </select>
    <div class="note-hint">Tambahkan temuan jika ada</div>
    <textarea id="tyreNote" placeholder="Tulis temuan di sini..." style="display:none;"></textarea>
  </div>

  <!-- Validasi -->
  <div class="card">
    <div class="section-title">📝 Validasi & Kelengkapan Checklist Service</div>
    <div id="validationList"></div>
  </div>

  <div style="text-align:center;">
    <button class="btn-preview" onclick="preview()">🧾 Preview</button>
    <button class="btn-copy" onclick="copyText()">📋 Copy</button>
    <button class="btn-wa" onclick="sendWA()">📤 WhatsApp</button>
  </div>

  <div id="preview"></div>
</div>

<script>
const validationItems=["Job Card & Cover Checklist","Form Observasi Redo PS","Form QA 1 & QA 7","Form PPM","Form Check List A","Form Check List B","Form Check List C","Form Backlog","Form FUI","Form Repair Order","Form Combine Maintenance","Form Service Activity Report"];
const vContainer=document.getElementById("validationList");
validationItems.forEach(item=>{
  const row=document.createElement("div");
  row.className="input-row";
  const span=document.createElement("span");
  span.textContent=item;
  const btn=document.createElement("div");
  btn.className="status checked";
  btn.textContent="✅";
  btn.onclick=()=>toggleCheck(btn);
  row.appendChild(span);
  row.appendChild(btn);
  vContainer.appendChild(row);
});
function toggleCheck(btn){
  if(btn.textContent==="✅"){btn.textContent="❌";btn.classList.remove("checked");btn.classList.add("unchecked");}
  else{btn.textContent="✅";btn.classList.remove("unchecked");btn.classList.add("checked");}
}
function toggleNote(sel){
  const note=sel.parentElement.querySelector(".note");
  note.style.display=sel.value.includes("BAD")?"block":"none";
}
function toggleTyre(){
  const tyre=document.getElementById("tyre");
  const note=document.getElementById("tyreNote");
  note.style.display=tyre.value.includes("BAD")?"block":"none";
}
function preview(){
  const validText=[...vContainer.querySelectorAll(".input-row")].map(r=>`${r.querySelector("span").textContent} ${r.querySelector(".status").textContent}`).join("\n");
  document.getElementById("preview").textContent=`🧾 Inspection QA Form berhasil dibuat. 
Periksa format sebelum dikirim ke WhatsApp.\n\n📝 Validasi:\n${validText}`;
}
function copyText(){navigator.clipboard.writeText(document.getElementById("preview").textContent);alert("✅ Format WA disalin!");}
function sendWA(){const msg=encodeURIComponent(document.getElementById("preview").textContent);window.open(`https://wa.me/?text=${msg}`);}
</script>
</body>
</html>
